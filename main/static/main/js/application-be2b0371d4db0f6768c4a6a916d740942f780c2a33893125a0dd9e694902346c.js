function feedbackAutosave(e, t) { var n = $(e).closest("form").find(".feedbacker"); switch (t) { case "before": n.html("<span class='badge badge-secondary'>" + icon_loading + " " + I18n[document.documentElement.lang].autosave.before + "</span>"); break; case "success": n.html("<span class='badge badge-success'>" + icon_check + " " + I18n[document.documentElement.lang].autosave.success + "</span>"); break; case "error": n.html("<span class='badge badge-danger js-error-badge'>" + icon_skull + " " + I18n[document.documentElement.lang].autosave.error + "</span>"); break; default: n.html("<span></span>") } } function triggerSubmitIfValid(e) { var t = $(e).closest("form"), n = t[0].ClientSideValidations.settings.validators, a = t.isValid(n); t.validate(), a ? Rails.fire(t[0], "submit") : feedbackAutosave(e, "error") } function autosave() { var e = $("form[data-remote][data-client-side-validations]"); $.each(e, function (e, t) { var n = $(t), a = n[0].ClientSideValidations.settings.validators; n.isValid(a), n.validate() }), $("form[data-remote][data-client-side-validations]").append("<div class='feedbacker text-right'></div>").on("cocoon:after-remove", function (e) { triggerSubmitIfValid(e.target) }).on("cocoon:after-insert", function (e, t) { t.closest("form").validate(), triggerSubmitIfValid(e.target) }).on("change", function (e) { triggerSubmitIfValid(e.target) }).on("ajax:before", function (e) { feedbackAutosave(e.target, "before") }).on("ajax:success", function (e) { feedbackAutosave(e.target, "success") }).on("ajax:error", function (e) { feedbackAutosave(e.target, "error") }) } window.I18n = { ar: { cancel: "\u0627\u0644\u063a\u0627\u0621", confirm: "\u062a\u0623\u0643\u064a\u062f", autosave: { before: "\u064a\u062a\u0645 \u0627\u0644\u062d\u0641\u0638...", error: "\u062e\u0637\u0623", success: "\u062a\u0645 \u0627\u0644\u062d\u0641\u0638!" } }, en: { cancel: "Cancel", confirm: "Confirm", autosave: { before: "Saving...", error: "Error", success: "Saved!" } }, es: { cancel: "Cancelar", confirm: "Confirmar", autosave: { before: "Guardando...", error: "Error", success: "\xa1Guardado!" } }, fr: { cancel: "Annuler", confirm: "Confirmer", autosave: { before: "Sauvegarder...", error: "Erreur", success: "Sauvegarder!" } }, it: { cancel: "Cancella", confirm: "Conferma", autosave: { before: "Salvare\u2026", error: "Errore", success: "Salvato!" } }, ja: { cancel: "\u30ad\u30e3\u30f3\u30bb\u30eb", confirm: "\u78ba\u8a8d\u3059\u308b", autosave: { before: "\u4fdd\u5b58\u4e2d...", error: "\u30a8\u30e9\u30fc", success: "\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01" } }, ka: { cancel: "\u10d2\u10d0\u10d0\u10e3\u10e5\u10db\u10d4", confirm: "\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0", autosave: { before: "\u10db\u10d8\u10db\u10d3\u10d8\u10dc\u10d0\u10e0\u10d4\u10dd\u10d1\u10e1 \u10d3\u10d0\u10db\u10d0\u10ee\u10e1\u10dd\u10d5\u10e0\u10d4\u10d1\u10d0...", error: "\u10e8\u10d4\u10ea\u10d3\u10dd\u10db\u10d0", success: "\u10d3\u10d0\u10db\u10d0\u10ee\u10e1\u10dd\u10d5\u10e0\u10d4\u10d1\u10e3\u10da\u10d8\u10d0!" } }, ko: { cancel: "\ucde8\uc18c", confirm: "\ud655\uc778", autosave: { before: "Saving...", error: "Error", success: "Saved!" } }, "pt-BR": { cancel: "Cancelar", confirm: "Confirmar", autosave: { before: "Salvando...", error: "Erro", success: "Salvo!" } }, ro: { cancel: "Anuleaz\u0103", confirm: "Confirmare", autosave: { before: "Se salveaz\u0103...", error: "Eroare", success: "Salvat!" } }, ru: { cancel: "\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c", confirm: "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c", autosave: { before: "\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...", error: "\u041e\u0448\u0438\u0431\u043a\u0430", success: "\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!" } }, "uk-UA": { cancel: "Cancel", confirm: "Confirm", autosave: { before: "Saving...", error: "Error", success: "Saved!" } }, "zh-CN": { cancel: "\u53d6\u6d88", confirm: "\u78ba\u8a8d", autosave: { before: "Saving...", error: "Error", success: "Saved!" } } }, function () { var e = function (e) { t(this) || Rails.stopEverything(e) }, t = function (e) { return null === e.getAttribute("data-confirm") || (n(e), !1) }, n = function (e) { var t = e.getAttribute("data-confirm"); bootbox.confirm({ message: t, buttons: { cancel: { label: I18n[document.documentElement.lang].cancel }, confirm: { label: I18n[document.documentElement.lang].confirm } }, callback: function (t) { a(e, t) } }) }, a = function (e, t) { t && (e.removeAttribute("data-confirm"), e.click()) }; document.addEventListener("rails:attachBindings", function () { Rails.delegate(document, "a[data-confirm]", "click", e) }) }.call(this), function () { var e = this; (function () { (function () { this.Rails = { linkClickSelector: "a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]", buttonClickSelector: { selector: "button[data-remote]:not([form]), button[data-confirm]:not([form])", exclude: "form button" }, inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]", formSubmitSelector: "form:not([data-turbo=true])", formInputClickSelector: "form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])", formDisableSelector: "input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled", formEnableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled", fileInputSelector: "input[name][type=file]:not([disabled])", linkDisableSelector: "a[data-disable-with], a[data-disable]", buttonDisableSelector: "button[data-remote][data-disable-with], button[data-remote][data-disable]" } }).call(this) }).call(e); var t = e.Rails; (function () { (function () { var e; e = null, t.loadCSPNonce = function () { var t; return e = null != (t = document.querySelector("meta[name=csp-nonce]")) ? t.content : void 0 }, t.cspNonce = function () { return null != e ? e : t.loadCSPNonce() } }).call(this), function () { var e, n; n = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector, t.matches = function (e, t) { return null != t.exclude ? n.call(e, t.selector) && !n.call(e, t.exclude) : n.call(e, t) }, e = "_ujsData", t.getData = function (t, n) { var a; return null != (a = t[e]) ? a[n] : void 0 }, t.setData = function (t, n, a) { return null == t[e] && (t[e] = {}), t[e][n] = a }, t.isContentEditable = function (e) { var t; for (t = !1; ;) { if (e.isContentEditable) { t = !0; break } if (!(e = e.parentElement)) break } return t }, t.$ = function (e) { return Array.prototype.slice.call(document.querySelectorAll(e)) } }.call(this), function () { var e, n, a; e = t.$, a = t.csrfToken = function () { var e; return (e = document.querySelector("meta[name=csrf-token]")) && e.content }, n = t.csrfParam = function () { var e; return (e = document.querySelector("meta[name=csrf-param]")) && e.content }, t.CSRFProtection = function (e) { var t; if (null != (t = a())) return e.setRequestHeader("X-CSRF-Token", t) }, t.refreshCSRFTokens = function () { var t, i; if (i = a(), t = n(), null != i && null != t) return e('form input[name="' + t + '"]').forEach(function (e) { return e.value = i }) } }.call(this), function () { var e, n, a, i; a = t.matches, "function" != typeof (e = window.CustomEvent) && ((e = function (e, t) { var n; return (n = document.createEvent("CustomEvent")).initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n }).prototype = window.Event.prototype, i = e.prototype.preventDefault, e.prototype.preventDefault = function () { var e; return e = i.call(this), this.cancelable && !this.defaultPrevented && Object.defineProperty(this, "defaultPrevented", { get: function () { return !0 } }), e }), n = t.fire = function (t, n, a) { var i; return i = new e(n, { bubbles: !0, cancelable: !0, detail: a }), t.dispatchEvent(i), !i.defaultPrevented }, t.stopEverything = function (e) { return n(e.target, "ujs:everythingStopped"), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation() }, t.delegate = function (e, t, n, i) { return e.addEventListener(n, function (e) { var n; for (n = e.target; n instanceof Element && !a(n, t);)n = n.parentNode; if (n instanceof Element && !1 === i.call(n, e)) return e.preventDefault(), e.stopPropagation() }) } }.call(this), function () { var e, n, a, i, r, o; i = t.cspNonce, n = t.CSRFProtection, t.fire, e = { "*": "*/*", text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript", script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, t.ajax = function (e) { var t; return e = r(e), t = a(e, function () { var n, a; return a = o(null != (n = t.response) ? n : t.responseText, t.getResponseHeader("Content-Type")), 2 === Math.floor(t.status / 100) ? "function" == typeof e.success && e.success(a, t.statusText, t) : "function" == typeof e.error && e.error(a, t.statusText, t), "function" == typeof e.complete ? e.complete(t, t.statusText) : void 0 }), !(null != e.beforeSend && !e.beforeSend(t, e)) && (t.readyState === XMLHttpRequest.OPENED ? t.send(e.data) : void 0) }, r = function (t) { return t.url = t.url || location.href, t.type = t.type.toUpperCase(), "GET" === t.type && t.data && (t.url.indexOf("?") < 0 ? t.url += "?" + t.data : t.url += "&" + t.data), null == e[t.dataType] && (t.dataType = "*"), t.accept = e[t.dataType], "*" !== t.dataType && (t.accept += ", */*; q=0.01"), t }, a = function (e, t) { var a; return (a = new XMLHttpRequest).open(e.type, e.url, !0), a.setRequestHeader("Accept", e.accept), "string" == typeof e.data && a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"), e.crossDomain || (a.setRequestHeader("X-Requested-With", "XMLHttpRequest"), n(a)), a.withCredentials = !!e.withCredentials, a.onreadystatechange = function () { if (a.readyState === XMLHttpRequest.DONE) return t(a) }, a }, o = function (e, t) { var n, a; if ("string" == typeof e && "string" == typeof t) if (t.match(/\bjson\b/)) try { e = JSON.parse(e) } catch (r) { } else if (t.match(/\b(?:java|ecma)script\b/)) (a = document.createElement("script")).setAttribute("nonce", i()), a.text = e, document.head.appendChild(a).parentNode.removeChild(a); else if (t.match(/\b(xml|html|svg)\b/)) { n = new DOMParser, t = t.replace(/;.+/, ""); try { e = n.parseFromString(e, t) } catch (r) { } } return e }, t.href = function (e) { return e.href }, t.isCrossDomain = function (e) { var t, n; (t = document.createElement("a")).href = location.href, n = document.createElement("a"); try { return n.href = e, !((!n.protocol || ":" === n.protocol) && !n.host || t.protocol + "//" + t.host == n.protocol + "//" + n.host) } catch (a) { return a, !0 } } }.call(this), function () { var e, n; e = t.matches, n = function (e) { return Array.prototype.slice.call(e) }, t.serializeElement = function (t, a) { var i, r; return i = [t], e(t, "form") && (i = n(t.elements)), r = [], i.forEach(function (t) { if (t.name && !t.disabled && !e(t, "fieldset[disabled] *")) return e(t, "select") ? n(t.options).forEach(function (e) { if (e.selected) return r.push({ name: t.name, value: e.value }) }) : t.checked || -1 === ["radio", "checkbox", "submit"].indexOf(t.type) ? r.push({ name: t.name, value: t.value }) : void 0 }), a && r.push(a), r.map(function (e) { return null != e.name ? encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value) : e }).join("&") }, t.formElements = function (t, a) { return e(t, "form") ? n(t.elements).filter(function (t) { return e(t, a) }) : n(t.querySelectorAll(a)) } }.call(this), function () { var e, n, a; n = t.fire, a = t.stopEverything, t.handleConfirm = function (t) { if (!e(this)) return a(t) }, t.confirm = function (e) { return confirm(e) }, e = function (e) { var a, i, r; if (!(r = e.getAttribute("data-confirm"))) return !0; if (a = !1, n(e, "confirm")) { try { a = t.confirm(r, e) } catch (o) { } i = n(e, "confirm:complete", [a]) } return a && i } }.call(this), function () { var e, n, a, i, r, o, l, s, c, u, d, f, m; d = t.matches, s = t.getData, f = t.setData, m = t.stopEverything, l = t.formElements, c = t.isContentEditable, t.handleDisabledElement = function (e) { if (this.disabled) return m(e) }, t.enableElement = function (e) { var n; if (e instanceof Event) { if (u(e)) return; n = e.target } else n = e; if (!c(n)) return d(n, t.linkDisableSelector) ? o(n) : d(n, t.buttonDisableSelector) || d(n, t.formEnableSelector) ? i(n) : d(n, t.formSubmitSelector) ? r(n) : void 0 }, t.disableElement = function (i) { var r; if (r = i instanceof Event ? i.target : i, !c(r)) return d(r, t.linkDisableSelector) ? a(r) : d(r, t.buttonDisableSelector) || d(r, t.formDisableSelector) ? e(r) : d(r, t.formSubmitSelector) ? n(r) : void 0 }, a = function (e) { var t; if (!s(e, "ujs:disabled")) return null != (t = e.getAttribute("data-disable-with")) && (f(e, "ujs:enable-with", e.innerHTML), e.innerHTML = t), e.addEventListener("click", m), f(e, "ujs:disabled", !0) }, o = function (e) { var t; return null != (t = s(e, "ujs:enable-with")) && (e.innerHTML = t, f(e, "ujs:enable-with", null)), e.removeEventListener("click", m), f(e, "ujs:disabled", null) }, n = function (n) { return l(n, t.formDisableSelector).forEach(e) }, e = function (e) { var t; if (!s(e, "ujs:disabled")) return null != (t = e.getAttribute("data-disable-with")) && (d(e, "button") ? (f(e, "ujs:enable-with", e.innerHTML), e.innerHTML = t) : (f(e, "ujs:enable-with", e.value), e.value = t)), e.disabled = !0, f(e, "ujs:disabled", !0) }, r = function (e) { return l(e, t.formEnableSelector).forEach(i) }, i = function (e) { var t; return null != (t = s(e, "ujs:enable-with")) && (d(e, "button") ? e.innerHTML = t : e.value = t, f(e, "ujs:enable-with", null)), e.disabled = !1, f(e, "ujs:disabled", null) }, u = function (e) { var t, n; return null != (null != (n = null != (t = e.detail) ? t[0] : void 0) ? n.getResponseHeader("X-Xhr-Redirect") : void 0) } }.call(this), function () { var e, n; n = t.stopEverything, e = t.isContentEditable, t.handleMethod = function (a) { var i, r, o, l, s, c, u; if ((u = (c = this).getAttribute("data-method")) && !e(this)) return s = t.href(c), r = t.csrfToken(), i = t.csrfParam(), o = document.createElement("form"), l = "<input name='_method' value='" + u + "' type='hidden' />", null == i || null == r || t.isCrossDomain(s) || (l += "<input name='" + i + "' value='" + r + "' type='hidden' />"), l += '<input type="submit" />', o.method = "post", o.action = s, o.target = c.target, o.innerHTML = l, o.style.display = "none", document.body.appendChild(o), o.querySelector('[type="submit"]').click(), n(a) } }.call(this), function () { var e, n, a, i, r, o, l, s, c, u, d = [].slice; l = t.matches, a = t.getData, c = t.setData, n = t.fire, u = t.stopEverything, e = t.ajax, r = t.isCrossDomain, s = t.serializeElement, i = t.isContentEditable, o = function (e) { var t; return null != (t = e.getAttribute("data-remote")) && "false" !== t }, t.handleRemote = function (f) { var m, p, v, b, h, g, S; return !o(b = this) || (n(b, "ajax:before") ? i(b) ? (n(b, "ajax:stopped"), !1) : (S = b.getAttribute("data-with-credentials"), v = b.getAttribute("data-type") || "script", l(b, t.formSubmitSelector) ? (m = a(b, "ujs:submit-button"), h = a(b, "ujs:submit-button-formmethod") || b.method, g = a(b, "ujs:submit-button-formaction") || b.getAttribute("action") || location.href, "GET" === h.toUpperCase() && (g = g.replace(/\?.*$/, "")), "multipart/form-data" === b.enctype ? (p = new FormData(b), null != m && p.append(m.name, m.value)) : p = s(b, m), c(b, "ujs:submit-button", null), c(b, "ujs:submit-button-formmethod", null), c(b, "ujs:submit-button-formaction", null)) : l(b, t.buttonClickSelector) || l(b, t.inputChangeSelector) ? (h = b.getAttribute("data-method"), g = b.getAttribute("data-url"), p = s(b, b.getAttribute("data-params"))) : (h = b.getAttribute("data-method"), g = t.href(b), p = b.getAttribute("data-params")), e({ type: h || "GET", url: g, data: p, dataType: v, beforeSend: function (e, t) { return n(b, "ajax:beforeSend", [e, t]) ? n(b, "ajax:send", [e]) : (n(b, "ajax:stopped"), !1) }, success: function () { var e; return e = 1 <= arguments.length ? d.call(arguments, 0) : [], n(b, "ajax:success", e) }, error: function () { var e; return e = 1 <= arguments.length ? d.call(arguments, 0) : [], n(b, "ajax:error", e) }, complete: function () { var e; return e = 1 <= arguments.length ? d.call(arguments, 0) : [], n(b, "ajax:complete", e) }, crossDomain: r(g), withCredentials: null != S && "false" !== S }), u(f)) : (n(b, "ajax:stopped"), !1)) }, t.formSubmitButtonClick = function () { var e, t; if (t = (e = this).form) return e.name && c(t, "ujs:submit-button", { name: e.name, value: e.value }), c(t, "ujs:formnovalidate-button", e.formNoValidate), c(t, "ujs:submit-button-formaction", e.getAttribute("formaction")), c(t, "ujs:submit-button-formmethod", e.getAttribute("formmethod")) }, t.preventInsignificantClick = function (e) { var t, n, a, i; if (i = ((a = this).getAttribute("data-method") || "GET").toUpperCase(), t = a.getAttribute("data-params"), n = (e.metaKey || e.ctrlKey) && "GET" === i && !t, null != e.button && 0 !== e.button || n) return e.stopImmediatePropagation() } }.call(this), function () { var e, n, a, i, r, o, l, s, c, u, d, f, m, p, v; if (o = t.fire, a = t.delegate, s = t.getData, e = t.$, v = t.refreshCSRFTokens, n = t.CSRFProtection, m = t.loadCSPNonce, r = t.enableElement, i = t.disableElement, u = t.handleDisabledElement, c = t.handleConfirm, p = t.preventInsignificantClick, f = t.handleRemote, l = t.formSubmitButtonClick, d = t.handleMethod, "undefined" != typeof jQuery && null !== jQuery && null != jQuery.ajax) { if (jQuery.rails) throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only."); jQuery.rails = t, jQuery.ajaxPrefilter(function (e, t, a) { if (!e.crossDomain) return n(a) }) } t.start = function () { if (window._rails_loaded) throw new Error("rails-ujs has already been loaded!"); return window.addEventListener("pageshow", function () { return e(t.formEnableSelector).forEach(function (e) { if (s(e, "ujs:disabled")) return r(e) }), e(t.linkDisableSelector).forEach(function (e) { if (s(e, "ujs:disabled")) return r(e) }) }), a(document, t.linkDisableSelector, "ajax:complete", r), a(document, t.linkDisableSelector, "ajax:stopped", r), a(document, t.buttonDisableSelector, "ajax:complete", r), a(document, t.buttonDisableSelector, "ajax:stopped", r), a(document, t.linkClickSelector, "click", p), a(document, t.linkClickSelector, "click", u), a(document, t.linkClickSelector, "click", c), a(document, t.linkClickSelector, "click", i), a(document, t.linkClickSelector, "click", f), a(document, t.linkClickSelector, "click", d), a(document, t.buttonClickSelector, "click", p), a(document, t.buttonClickSelector, "click", u), a(document, t.buttonClickSelector, "click", c), a(document, t.buttonClickSelector, "click", i), a(document, t.buttonClickSelector, "click", f), a(document, t.inputChangeSelector, "change", u), a(document, t.inputChangeSelector, "change", c), a(document, t.inputChangeSelector, "change", f), a(document, t.formSubmitSelector, "submit", u), a(document, t.formSubmitSelector, "submit", c), a(document, t.formSubmitSelector, "submit", f), a(document, t.formSubmitSelector, "submit", function (e) { return setTimeout(function () { return i(e) }, 13) }), a(document, t.formSubmitSelector, "ajax:send", i), a(document, t.formSubmitSelector, "ajax:complete", r), a(document, t.formInputClickSelector, "click", p), a(document, t.formInputClickSelector, "click", u), a(document, t.formInputClickSelector, "click", c), a(document, t.formInputClickSelector, "click", l), document.addEventListener("DOMContentLoaded", v), document.addEventListener("DOMContentLoaded", m), window._rails_loaded = !0 }, window.Rails === t && o(document, "rails:attachBindings") && t.start() }.call(this) }).call(this), "object" == typeof module && module.exports ? module.exports = t : "function" == typeof define && define.amd && define(t) }.call(this),
    /*!
     * Client Side Validations JS - v0.3.0 (https://github.com/DavyJonesLocker/client_side_validations)
     * Copyright (c) 2022 Geremia Taglialatela, Brian Cardarella
     * Licensed under MIT (https://opensource.org/licenses/mit-license.php)
     */
    function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).ClientSideValidations = t(e.jQuery) }(this, function (e) { "use strict"; function t(e) { return e && "object" == typeof e && "default" in e ? e : { "default": e } } function n(e) { "@babel/helpers - typeof"; return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function a() { return "function" == typeof define && define.amd } function i() { return "object" === ("undefined" == typeof exports ? "undefined" : n(exports)) && "undefined" != typeof module } var r = t(e), o = { callbacks: { element: { after: function () { }, before: function () { }, fail: function (e, t, n) { return n() }, pass: function (e, t) { return t() } }, form: { after: function () { }, before: function () { }, fail: function () { }, pass: function () { } } }, eventsToBind: { form: function (e, t) { return { "submit.ClientSideValidations": function (n) { t.isValid(e.ClientSideValidations.settings.validators) || (n.preventDefault(), n.stopImmediatePropagation()) }, "ajax:beforeSend.ClientSideValidations": function (n) { n.target === this && t.isValid(e.ClientSideValidations.settings.validators) }, "form:validate:after.ClientSideValidations": function (e) { o.callbacks.form.after(t, e) }, "form:validate:before.ClientSideValidations": function (e) { o.callbacks.form.before(t, e) }, "form:validate:fail.ClientSideValidations": function (e) { o.callbacks.form.fail(t, e) }, "form:validate:pass.ClientSideValidations": function (e) { o.callbacks.form.pass(t, e) } } }, input: function (e) { return { "focusout.ClientSideValidations": function () { r["default"](this).isValid(e.ClientSideValidations.settings.validators) }, "change.ClientSideValidations": function () { r["default"](this).data("changed", !0) }, "element:validate:after.ClientSideValidations": function (e) { o.callbacks.element.after(r["default"](this), e) }, "element:validate:before.ClientSideValidations": function (e) { o.callbacks.element.before(r["default"](this), e) }, "element:validate:fail.ClientSideValidations": function (t, n) { var a = r["default"](this); o.callbacks.element.fail(a, n, function () { e.ClientSideValidations.addError(a, n) }, t) }, "element:validate:pass.ClientSideValidations": function (t) { var n = r["default"](this); o.callbacks.element.pass(n, function () { e.ClientSideValidations.removeError(n) }, t) } } }, inputConfirmation: function (e, t) { return { "focusout.ClientSideValidations": function () { e.data("changed", !0).isValid(t.ClientSideValidations.settings.validators) }, "keyup.ClientSideValidations": function () { e.data("changed", !0).isValid(t.ClientSideValidations.settings.validators) } } } }, enablers: { form: function (e) { var t = r["default"](e); e.ClientSideValidations = { settings: t.data("clientSideValidations"), addError: function (t, n) { return o.formBuilders[e.ClientSideValidations.settings.html_settings.type].add(t, e.ClientSideValidations.settings.html_settings, n) }, removeError: function (t) { return o.formBuilders[e.ClientSideValidations.settings.html_settings.type].remove(t, e.ClientSideValidations.settings.html_settings) } }; var n = o.eventsToBind.form(e, t); for (var a in n) { var i = n[a]; t.on(a, i) } t.find(o.selectors.inputs).each(function () { o.enablers.input(this) }) }, input: function (e) { var t = r["default"](e), n = e.form, a = r["default"](n), i = o.eventsToBind.input(n); for (var l in i) { var s = i[l]; t.filter(":not(:radio):not([id$=_confirmation])").each(function () { r["default"](this).attr("data-validate", !0) }).on(l, s) } t.filter(":checkbox").on("change.ClientSideValidations", function () { r["default"](this).isValid(n.ClientSideValidations.settings.validators) }), t.filter("[id$=_confirmation]").each(function () { var e = r["default"](this), t = a.find("#".concat(this.id.match(/(.+)_confirmation/)[1], ":input")); if (t.length) { var i = o.eventsToBind.inputConfirmation(t, n); for (var l in i) { var s = i[l]; r["default"]("#".concat(e.attr("id"))).on(l, s) } } }) } }, formBuilders: { "ActionView::Helpers::FormBuilder": { add: function (e, t, n) { var a = r["default"](e[0].form); if (!1 !== e.data("valid") && null == a.find('label.message[for="'.concat(e.attr("id"), '"]'))[0]) { var i = r["default"](t.input_tag), o = r["default"](t.label_tag), l = a.find('label[for="'.concat(e.attr("id"), '"]:not(.message)')); e.attr("autofocus") && e.attr("autofocus", !1), e.before(i), i.find("span#input_tag").replaceWith(e), i.find("label.message").attr("for", e.attr("id")), o.find("label.message").attr("for", e.attr("id")), o.insertAfter(l), o.find("label#label_tag").replaceWith(l) } a.find('label.message[for="'.concat(e.attr("id"), '"]')).text(n) }, remove: function (e, t) { var n = r["default"](e[0].form), a = r["default"](t.input_tag).attr("class"), i = e.closest(".".concat(a.replace(/ /g, "."))), o = n.find('label[for="'.concat(e.attr("id"), '"]:not(.message)')), l = r["default"](t.label_tag).attr("class"), s = o.closest(".".concat(l.replace(/ /g, "."))); i[0] && (i.find("#".concat(e.attr("id"))).detach(), i.replaceWith(e), o.detach(), s.replaceWith(o)) } } }, patterns: { numericality: { "default": /^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/, only_integer: /^[+-]?\d+$/ } }, selectors: { inputs: ':input:not(button):not([type="submit"])[name]:visible:enabled', validate_inputs: ":input:enabled:visible[data-validate]", forms: "form[data-client-side-validations]" }, validators: { all: function () { return r["default"].extend({}, o.validators.local, o.validators.remote) }, local: {}, remote: {} }, disable: function (e) { var t = r["default"](e); t.off(".ClientSideValidations"), t.is("form") ? o.disable(t.find(":input")) : (t.removeData(["changed", "valid"]), t.filter(":input").each(function () { r["default"](this).removeAttr("data-validate") })) }, reset: function (e) { var t = r["default"](e); for (var n in o.disable(e), e.ClientSideValidations.settings.validators) e.ClientSideValidations.removeError(t.find('[name="'.concat(n, '"]'))); o.enablers.form(e) }, initializeOnEvent: function () { return null != window.Turbo ? "turbo:load" : null != window.Turbolinks && window.Turbolinks.supported ? null != window.Turbolinks.EVENTS ? "page:change" : "turbolinks:load" : void 0 }, start: function () { var e = o.initializeOnEvent(); null != e ? r["default"](document).on(e, function () { return r["default"](o.selectors.forms).validate() }) : r["default"](function () { return r["default"](o.selectors.forms).validate() }) } }, l = function (e, t) { for (var n = 0, a = t.length; n < a; n++)if (e === t[n]) return !0; return !1 }, s = function (e) { return !/^\s*$/.test(e || "") }, c = function (e, t) { if (s(e.val())) return t.message }, u = function (e, t) { if (!s(e.val())) return t.message }, d = ["1", !0], f = function (e, t) { return t || (t = d), Array.isArray(t) ? l(e, t) : e === t }, m = function (e, t) { var n = !0; if ("checkbox" === e.attr("type") && (n = e.prop("checked")), "text" === e.attr("type") && (n = f(e.val(), t.accept)), !n) return t.message }, p = function (e, t) { return new RegExp(t.source, t.options).test(e) }, v = function (e, t, n) { return t && p(e, t) || n && !p(e, n) }, b = function (e, t) { var n = e.val(); if (!t.allow_blank || s(n)) return v(n, t["with"], t.without) ? void 0 : t.message }, h = { even: function (e) { return parseInt(e, 10) % 2 == 0 }, greater_than: function (e, t) { return parseFloat(e) > parseFloat(t) }, greater_than_or_equal_to: function (e, t) { return parseFloat(e) >= parseFloat(t) }, equal_to: function (e, t) { return parseFloat(e) === parseFloat(t) }, less_than: function (e, t) { return parseFloat(e) < parseFloat(t) }, less_than_or_equal_to: function (e, t) { return parseFloat(e) <= parseFloat(t) }, odd: function (e) { return parseInt(e, 10) % 2 == 1 }, other_than: function (e, t) { return parseFloat(e) !== parseFloat(t) } }, g = function (e, t) { if (!isNaN(parseFloat(e))) return e; var n = t.find('[name*="'.concat(e, '"]')); if (1 === n.length) { var a = t[0].ClientSideValidations.settings.number_format, i = r["default"].trim(n.val()).replace(new RegExp("\\".concat(a.separator), "g"), "."); if (!isNaN(parseFloat(i))) return i } }, S = function (e, t, n, a) { if (2 === e.length) { var i = g(t, a); return null == i || "" === i || e(n, i) } return e(n) }, C = function (e, t, n) { for (var a in h) { var i = n[a], r = h[a]; if (null != i && !S(r, i, e, t)) return n.messages[a] } }, y = function (e, t, n) { return n.only_integer && !o.patterns.numericality.only_integer.test(e) ? n.messages.only_integer : o.patterns.numericality["default"].test(e) ? C(e, t, n) : n.messages.numericality }, w = function (e, t) { var n = e.val(); if (!t.allow_blank || s(n)) { var a = r["default"](e[0].form), i = a[0].ClientSideValidations.settings.number_format, o = r["default"].trim(n).replace(new RegExp("\\".concat(i.separator), "g"), "."); return y(o, a, t) } }, k = { is: function (e, t) { return e === parseInt(t, 10) }, minimum: function (e, t) { return e >= parseInt(t, 10) }, maximum: function (e, t) { return e <= parseInt(t, 10) } }, E = function (e, t) { for (var n in k) { var a = t[n], i = k[n]; if (a && !i(e, a)) return t.messages[n] } }, x = function (e, t) { var n = e.val(); if (!t.allow_blank || s(n)) return E(n.length, t) }, j = function (e, t) { var n = []; for (var a in t) n.push(t[a].toString()); return l(e, n) }, _ = function (e, t) { return e >= t[0] && e <= t[1] }, V = function (e, t, n) { return (t.allow_blank && !s(e)) === n || (t["in"] && j(e, t["in"]) || t.range && _(e, t.range)) }, D = function (e, t) { var n = e.val(); if (V(n, t, !1) || !t.allow_blank && !s(n)) return t.message }, T = function (e, t) { var n = e.val(); if (!V(n, t, !0)) return t.message }, A = function (e, t) { var n = e.val(), a = r["default"]("#".concat(e.attr("id"), "_confirmation")).val(); if (t.case_sensitive || (n = n.toLowerCase(), a = a.toLowerCase()), n !== a) return t.message }, R = function (e, t, n, a) { return a || (t = t.toLowerCase(), n = n.toLowerCase()), n === t ? (r["default"](e).data("notLocallyUnique", !0), !1) : (r["default"](e).data("notLocallyUnique") && r["default"](e).removeData("notLocallyUnique").data("changed", !0), !0) }, L = function (e, t) { var n = e.attr("name").match(/^(.+_attributes\])\[\d+\](.+)$/); if (n) { var a = r["default"](e[0].form), i = e.val(), o = !0; return a.find(':input[name^="'.concat(n[1], '"][name$="').concat(n[2], '"]')).not(e).each(function () { var e = r["default"](this).val(); R(this, i, e, t.case_sensitive) || (o = !1) }), o ? void 0 : t.message } }; o.validators.local = { absence: c, presence: u, acceptance: m, format: b, numericality: w, length: x, inclusion: T, exclusion: D, confirmation: A, uniqueness: L }, r["default"].fn.disableClientSideValidations = function () { return o.disable(this), this }, r["default"].fn.enableClientSideValidations = function () { var e = this, t = { forms: "form", inputs: "input" }, n = function (n) { var a = t[n]; e.filter(o.selectors[n]).each(function () { o.enablers[a](this) }) }; for (var a in t) n(a); return this }, r["default"].fn.resetClientSideValidations = function () { return this.filter(o.selectors.forms).each(function () { o.reset(this) }), this }, r["default"].fn.validate = function () { return this.filter(o.selectors.forms).each(function () { r["default"](this).enableClientSideValidations() }), this }, r["default"].fn.isValid = function (e) { var t = r["default"](this[0]); return t.is("form") ? M(t, e) : z(t, F(this[0].name, e)) }; var q = function (e, t, n) { for (var a in n) a.match("\\[".concat(t[1], "\\].*\\[\\]\\[").concat(t[2], "\\]$")) && (e = e.replace(/\[[\da-z_]+\]\[(\w+)\]$/g, "[][$1]")); return e }, I = function (e, t) { var n = (e = e.replace(/\[(\w+_attributes)\]\[[\da-z_]+\](?=\[(?:\w+_attributes)\])/g, "[$1][]")).match(/\[(\w+_attributes)\].*\[(\w+)\]$/); return n && (e = q(e, n, t)), e }, F = function (e, t) { return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : t[I(e, t)] || {} }, M = function (e, t) { var n = !0; return e.trigger("form:validate:before.ClientSideValidations"), e.find(o.selectors.validate_inputs).each(function () { return r["default"](this).isValid(t) || (n = !1), !0 }), n ? e.trigger("form:validate:pass.ClientSideValidations") : e.trigger("form:validate:fail.ClientSideValidations"), e.trigger("form:validate:after.ClientSideValidations"), n }, $ = function (e) { e.trigger("element:validate:pass.ClientSideValidations").data("valid", null) }, H = function (e, t) { e.trigger("element:validate:fail.ClientSideValidations", t).data("valid", !1) }, P = function (e) { return !1 !== e.trigger("element:validate:after.ClientSideValidations").data("valid") }, B = function (e, t, n, a) { for (var i in n) if (n[i]) { var r = t.call(e, a, n[i]); if (r) return H(a, r), !1 } return !0 }, N = function (e, t, n) { for (var a in n) if (e[a] && !B(e, e[a], n[a], t)) return !1; return !0 }, O = function (e) { if (e.attr("name").search(/\[([^\]]*?)\]$/) >= 0) { var t = e.attr("name").replace(/\[([^\]]*?)\]$/, "[_destroy]"); if ("1" === r["default"]('input[name="'.concat(t, '"]')).val()) return !0 } return !1 }, Q = function (e, t) { !1 === e.data("changed") || e.prop("disabled") || (e.data("changed", !1), N(o.validators.all(), e, t) && $(e)) }, z = function (e, t) { return e.trigger("element:validate:before.ClientSideValidations"), O(e) ? $(e) : Q(e, t), P(e) }; return window.ClientSideValidations || (window.ClientSideValidations = o, a() || i() || o.start()), o }),
    /*!
     * Client Side Validations Simple Form JS (Bootstrap 4+) - v0.3.1 (https://github.com/DavyJonesLocker/client_side_validations-simple_form)
     * Copyright (c) 2022 Geremia Taglialatela, Brian Cardarella
     * Licensed under MIT (https://opensource.org/licenses/mit-license.php)
     */
    function (e, t) { "object" == typeof exports && "undefined" != typeof module ? t(require("jquery"), require("@client-side-validations/client-side-validations")) : "function" == typeof define && define.amd ? define(["jquery", "@client-side-validations/client-side-validations"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).jQuery, e.ClientSideValidations) }(this, function (e, t) { "use strict"; function n(e) { return e && "object" == typeof e && "default" in e ? e : { "default": e } } var a = n(e); n(t)["default"].formBuilders["SimpleForm::FormBuilder"] = { add: function (e, t, n) { this.wrapper(t.wrapper).add.call(this, e, t, n) }, remove: function (e, t) { this.wrapper(t.wrapper).remove.call(this, e, t) }, wrapper: function (e) { return this.wrappers[e] || this.wrappers["default"] }, wrappers: { "default": { add: function (e, t, n) { var i = e.parent(), r = i.find("".concat(t.error_tag, ".invalid-feedback")); if (!r.length) { var o = i.find(".form-text"); r = a["default"]("<".concat(t.error_tag, ">"), { "class": "invalid-feedback", text: n }), o.length ? o.before(r) : i.append(r) } i.addClass(t.wrapper_error_class), e.addClass("is-invalid"), r.text(n) }, remove: function (e, t) { var n = e.parent(), a = n.find("".concat(t.error_tag, ".invalid-feedback")); n.removeClass(t.wrapper_error_class), e.removeClass("is-invalid"), a.remove() } } } } }), function (e) { var t = 0, n = function () { return (new Date).getTime() + t++ }, a = function (e) { return "[" + e + "]$1" }, i = function (e) { return "_" + e + "_$1" }, r = function (t, n, a) { return t ? "function" == typeof t ? (n && console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."), t(a)) : "string" == typeof t ? n ? a[n](t) : "this" == t ? a : e(t) : void 0 : a.parent() }; e(document).on("click", ".add_fields", function (t) { t.preventDefault(), t.stopPropagation(); var o = e(this), l = o.data("association"), s = o.data("associations"), c = o.data("association-insertion-template"), u = o.data("association-insertion-method") || o.data("association-insertion-position") || "before", d = o.data("association-insertion-node"), f = o.data("association-insertion-traversal"), m = parseInt(o.data("count"), 10), p = new RegExp("\\[new_" + l + "\\](.*?\\s)", "g"), v = new RegExp("_new_" + l + "_(\\w*)", "g"), b = n(), h = c.replace(p, a(b)), g = [], S = t; for (h == c && (p = new RegExp("\\[new_" + s + "\\](.*?\\s)", "g"), v = new RegExp("_new_" + s + "_(\\w*)", "g"), h = c.replace(p, a(b))), g = [h = h.replace(v, i(b))], m = isNaN(m) ? 1 : Math.max(m, 1), m -= 1; m;)b = n(), h = (h = c.replace(p, a(b))).replace(v, i(b)), g.push(h), m -= 1; var C = r(d, f, o); C && 0 != C.length || console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."), e.each(g, function (t, n) { var a = e(n), i = jQuery.Event("cocoon:before-insert"); if (C.trigger(i, [a, S]), !i.isDefaultPrevented()) { C[u](a); C.trigger("cocoon:after-insert", [a, S]) } }) }), e(document).on("click", ".remove_fields.dynamic, .remove_fields.existing", function (t) { var n = e(this), a = n.data("wrapper-class") || "nested-fields", i = n.closest("." + a), r = i.parent(), o = t; t.preventDefault(), t.stopPropagation(); var l = jQuery.Event("cocoon:before-remove"); if (r.trigger(l, [i, o]), !l.isDefaultPrevented()) { var s = r.data("remove-timeout") || 0; setTimeout(function () { n.hasClass("dynamic") ? i.detach() : (n.prev("input[type=hidden]").val("1"), i.hide()), r.trigger("cocoon:after-remove", [i, o]) }, s) } }), e(document).on("ready page:load turbolinks:load", function () { e(".remove_fields.existing.destroyed").each(function () { var t = e(this), n = t.data("wrapper-class") || "nested-fields"; t.closest("." + n).hide() }) }) }(jQuery); var icon_loading = '<span class="spinning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="mdi-loading" width="24" height="24" viewBox="0 0 24 24"><path d="M12,4V2C6.48,2 2,6.48 2,12H4C4,7.58 7.58,4 12,4Z"></path></svg></span>', icon_check = '<span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="mdi-check" width="24" height="24" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span>', icon_skull = '<span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="mdi-skull" width="24" height="24" viewBox="0 0 24 24"><path d="M12,2C7.03,2 3,6.03 3,11C3,14.03 4.53,16.82 7,18.47V22H9V19H11V22H13V19H15V22H17V18.46C19.47,16.81 21,14 21,11C21,6.03 16.97,2 12,2M8,11C9.1,11 10,11.9 10,13C10,14.1 9.1,15 8,15C6.9,15 6,14.1 6,13C6,11.9 6.9,11 8,11M16,11C17.1,11 18,11.9 18,13C18,14.1 17.1,15 16,15C14.9,15 14,14.1 14,13C14,11.9 14.9,11 16,11M12,14L13.5,17H10.5L12,14Z"></path></svg></span>'; if ($(function () { autosave() }), "undefined" != typeof ClientSideValidations) { var errorClass = "is-invalid", errorBlockClass = "invalid-feedback", getErrorFields = function (e) { return null != e.closest(".input-group")[0] ? [e, e.closest(".input-group")] : [e.parent(), e.parent()] }; ClientSideValidations.callbacks.element.fail = function (e, t, n) { if (!e.data("valid")) { var a = getErrorFields(e), i = a[0], r = a[1]; i.addClass(errorClass), r.parent().find("." + errorBlockClass).remove(), r.after("<div class='" + errorBlockClass + " d-block'>" + t + "</div>") } return n }, ClientSideValidations.callbacks.element.pass = function (e, t) { var n = getErrorFields(e), a = n[0], i = n[1]; return a.removeClass(errorClass), i.parent().find("." + errorBlockClass).remove(), t } }